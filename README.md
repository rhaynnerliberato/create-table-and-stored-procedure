# create-table-and-stored-procedure
exemplo simples de criacao de tabela e stored procedure (SQL SERVER)


CREATE TABLE DEPARTAMENTO(
ID_DEPARTAMENTO INT NOT NULL PRIMARY KEY,
CODIGO_DEPARTAMENTO INT NOT NULL,
NOME_RESPONSAVEL VARCHAR(50) NOT NULL,
LOGIN_RESPONSAVEL VARCHAR(50) NOT NULL,
EMAIL_RESPONSAVEL VARCHAR(50) NOT NULL
)

CREATE PROCEDURE ATUALIZAR_DEPARTAMENTO
@CODIGO_DEPARTAMENTO INT,
@NOME_RESPONSAVEL VARCHAR(50),
@LOGIN_RESPONSAVEL VARCHAR(50),
@EMAIL_RESPONSAVEL VARCHAR(50)
AS
BEGIN
IF (EXISTS(SELECT ID_DEPARTAMENTO FROM DEPARTAMENTO WHERE (ID_DEPARTAMENTO = :ID_DEPARTAMENTO))) 
BEGIN
UPDATE DEPARTAMENTO SET 
CODIGO_DEPARTAMENTO = @CODIGO_DEPARTAMENTO,
NOME_RESPONSAVEL = @NOME_RESPONSAVEL,
LOGIN_RESPONSAVEL = @LOGIN_RESPONSAVEL,
EMAIL_RESPONSAVEL = @EMAIL_RESPONSAVEL
WHERE (ID_DEPARTAMENTO = @ID_DEPARTAMENTO = @ID_DEPARTAMENTO = @ID_DEPARTAMENTO);
END
ELSE
BEGIN
INSERT INTO DEPARTAMENTO(
CODIGO_DEPARTAMENTO,
NOME_RESPONSAVEL,
LOGIN_RESPONSAVEL,
EMAIL_RESPONSAVEL)
VALUES (
@CODIGO_DEPARTAMENTO,
@NOME_RESPONSAVEL,
@LOGIN_RESPONSAVEL,
@EMAIL_RESPONSAVEL);
END
END
